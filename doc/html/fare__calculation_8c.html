<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CBMS: src/fare_calculation.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CBMS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">fare_calculation.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A function to calculate the total fare of a booking made by a user.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;../include/fare_calculation.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1559f2bd35408df6d1c7fa9530b02652"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fare__calculation_8c.html#a1559f2bd35408df6d1c7fa9530b02652">fare_calculation</a> (int no_of_pass, int package_fare, int cruise_selected, int suite_length, int *room_booked)</td></tr>
<tr class="memdesc:a1559f2bd35408df6d1c7fa9530b02652"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the total fare of a booking.  <a href="fare__calculation_8c.html#a1559f2bd35408df6d1c7fa9530b02652">More...</a><br /></td></tr>
<tr class="separator:a1559f2bd35408df6d1c7fa9530b02652"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A function to calculate the total fare of a booking made by a user. </p>
<dl class="section author"><dt>Author</dt><dd>Swetha Meenakshi Natarajan - <a href="#" onclick="location.href='mai'+'lto:'+'swe'+'th'+'ame'+'en'+'aks'+'hi'+'nat'+'ar'+'@cm'+'ai'+'l.c'+'ar'+'let'+'on'+'.ca'; return false;">sweth<span style="display: none;">.nosp@m.</span>amee<span style="display: none;">.nosp@m.</span>naksh<span style="display: none;">.nosp@m.</span>inat<span style="display: none;">.nosp@m.</span>ar@cm<span style="display: none;">.nosp@m.</span>ail.<span style="display: none;">.nosp@m.</span>carle<span style="display: none;">.nosp@m.</span>ton.<span style="display: none;">.nosp@m.</span>ca</a> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1559f2bd35408df6d1c7fa9530b02652"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1559f2bd35408df6d1c7fa9530b02652">&#9670;&nbsp;</a></span>fare_calculation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float fare_calculation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>no_of_pass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>package_fare</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cruise_selected</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>suite_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>room_booked</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the total fare of a booking. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">no_of_pass</td><td>Number of passengers in the booking</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">package_fare</td><td>Array of the fares for the available cruises read from the file</td></tr>
  </table>
  </dd>
</dl>
<p>Function takes the number of passengers for the cruise selected, the cruise fare, the types of rooms selected, the fares and discounts for different types of rooms as input and applies discounts for specially abled, different age groups of passengers and group size to calculate the total fare of that booking</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the total fare of the booking </dd></dl>
<p>Initializing the variables</p>
<p>Calculating fare for number of passengers for the cruise selected</p>
<p>Opening file to read passengers' details</p>
<p>If we fail to open the file, then we need to abort the program, there is nothing to be done.</p>
<p>Reads line by line from file pointed by fp</p>
<p>Opening file to read discount based on age group and storing data read from each column as different arrays</p>
<p>If we fail to open the file, then we need to abort the program, there is nothing to be done.</p>
<p>Reads line by line from file pointed by fa</p>
<p>Opening file to read discount based on group size and storing data read from each column as different arrays</p>
<p>If we fail to open the file, then we need to abort the program, there is nothing to be done.</p>
<p>Reads line by line from file pointed by fg</p>
<p>Opening file to read disability discount and storing data read from each column as different arrays</p>
<p>If we fail to open the file, then we need to abort the program, there is nothing to be done.</p>
<p>Reads line by line from file pointed by fd</p>
<p>Opening file to read the additional fares and discounts applicable for different suites and storing data read from each column as different arrays</p>
<p>If we fail to open the file, then we need to abort the program, there is nothing to be done.</p>
<p>Reads line by line from file pointed by fs</p>
<p>Applying discount based on age group</p>
<p>Applying discount based on group size</p>
<p>Apply discount for disabilities</p>
<p>Apply additonal fare and discount based on selected suite category</p>
<p>Total fare is calculated after applying discounts</p>
<p>Total fare for the booking is returned</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
